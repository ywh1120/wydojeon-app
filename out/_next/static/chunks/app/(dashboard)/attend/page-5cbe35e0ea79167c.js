(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[623],{66371:(e,t,a)=>{Promise.resolve().then(a.bind(a,53725))},53725:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var n=a(95155),s=a(12115),d=a(9561),i=a(68998),l=a(10979),r=a(22282),o=a(64150),c=a(68447),u=a(62769);let p=new Date,m=p.getFullYear()+"-"+("0"+(p.getMonth()+1)).slice(-2)+"-"+("0"+p.getDate()).slice(-2);function f(){let[e,t]=(0,s.useState)(!1),[a,p]=(0,s.useState)(!1),[f,h]=(0,s.useState)(!1),[w,x]=(0,s.useState)(""),y={name:"",baptismal:"",email:"",attendpurpose:"",attendyn:"",attenddate:m};(0,s.useEffect)(()=>{!async function(){var e,a;let n=!1,s=!1,d=await (0,o.x7)((0,o.H9)(c.A,"attend",m));d.exists()&&(n="Y"===(null===(e=d.data())||void 0===e?void 0:e.attendData).attendyn);let i=await (0,o.x7)((0,o.H9)(c.A,"attendstart",m));if(i.exists()){let e=null===(a=i.data())||void 0===a?void 0:a.attendStartData;"Y"===e.attendstartyn?(s=!0,x(e.attendpurpose)):s=!1}n&&s?(t(!0),p(!1)):n||!s||d.exists()?s&&i.exists()||(t(!0),p(!0),x("출석기간이 아닙니다.")):(t(!1),p(!1))}()},[]);let{showSnackbar:b}=(0,s.useContext)(u.$),v=async e=>{y.name="이원호",y.baptismal="라우렌시오",y.email="ywh1120@gmail.com",y.attendpurpose=w,y.attendyn="Y",t(!0),p(!1),h(!0),await (0,o.BN)((0,o.H9)(c.A,"attend",m),{attendData:y}),b("출석하였습니다.")},g=async e=>{y.name="이원호",y.baptismal="라우렌시오",y.email="ywh1120@gmail.com",y.attendpurpose=w,y.attendyn="N",t(!1),p(!0),await (0,o.BN)((0,o.H9)(c.A,"attend",m),{attendData:y}),b("불참하였습니다.")};return(0,n.jsx)(i.default,{sx:{width:"100%"},children:(0,n.jsxs)("form",{onSubmit:e=>e.preventDefault(),children:[(0,n.jsx)(d.default,{children:w}),(0,n.jsxs)(l.default,{spacing:2,children:[(0,n.jsx)(r.default,{variant:"contained",color:"success",onClick:v,disabled:e,children:"참석"}),(0,n.jsx)(r.default,{variant:"contained",color:"error",onClick:g,disabled:a,children:"불참"})]})]})})}},62769:(e,t,a)=>{"use strict";a.d(t,{$:()=>n}),a(95155);let n=(0,a(12115).createContext)({showSnackbar:()=>{},hideSnackbar:()=>{},open:!1,message:""})},68447:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(51972),s=a(64150);let d=(0,n.Wp)({apiKey:"AIzaSyA6AWmx-2RbuWAuKOe7Ky26PNYw9QnLpSI",authDomain:"wydojeonapp.firebaseapp.com",projectId:"wydojeonapp",storageBucket:"wydojeonapp.firebasestorage.app",messagingSenderId:"922251945217",appId:"1:922251945217:web:6712a0622cc5c64ce02700"}),i=(0,s.aU)(d)}},e=>{var t=t=>e(e.s=t);e.O(0,[992,870,459,506,129,441,517,358],()=>t(66371)),_N_E=e.O()}]);